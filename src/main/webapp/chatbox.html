<!-- The following line is essential for the "position: fixed" property to work correctly in IE -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <title>Chatbox</title>
    <link rel="stylesheet" href="js/jquery-ui-1.8.2.custom/css/ui-lightness/jquery-ui-1.8.2.custom.css" type="text/css" media="screen" />
    <script type="text/javascript" src="js/jquery-ui-1.8.2.custom/js/jquery-1.4.2.min.js"></script>
    <script type="text/javascript" src="js/jquery-ui-1.8.2.custom/js/jquery-ui-1.8.2.custom.min.js"></script>
    <script type="text/javascript" src="js/chatbot-commons.js"></script>
    <link type="text/css" href="css/jquery.ui.chatbox.css" rel="stylesheet" />
	<link type="text/css" href="css/style.css" rel="stylesheet" />
	<script type="text/javascript" src="config.js"></script>
    
    <script type="text/javascript" src="js/jquery.ui.chatbox.js"></script>
    <script type="text/javascript">
      $(document).ready(function(){
          var box = null;		  
		  $("#clickToChat").click(function(event, ui) {
              if(box) {
                  box.chatbox("option", "boxManager").toggleBox();
                  $("#clickToChat").hide();
              } else {
                  $("#clickToChat").hide();
                  box = $("#chat_div").chatbox({id:$("#clickToChat"), 
										user:{name : $("#hiddenUserName").val()},
										title : "Chat Window <span style='font-size: 9px; padding-left:50px'>(Click close to exit)</span>",
										messageSent : function(id, user, msg) {
											$("#chat_div").chatbox("option", "boxManager").addMsg(id, user, msg);
										}});
              }
          });
      });
    </script>
  </head>
  <body>
	<img id="clickToChat" src="./images/chatLink.png"/>
	<!-- Set the value from request or session -->
	<input type="hidden" id="hiddenUserName" name="userName" value='Abhinav' />
    <div id="chat_div"> </div>
  </body>
</html>
